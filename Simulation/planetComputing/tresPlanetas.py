import numpy as np

def tres_planetas(X, m1, m2, m3):
    XP = np.zeros(12)
    G = 6.672e-11
    
    XP[0:6] = X[6:12]

    L12 = np.sqrt((X[2] - X[0])**2 + (X[3] - X[1])**2) + 1e-9
    L13 = np.sqrt((X[4] - X[0])**2 + (X[5] - X[1])**2) + 1e-9
    L23 = np.sqrt((X[4] - X[2])**2 + (X[5] - X[3])**2) + 1e-9

    XP[6] = G * m2 * (X[2] - X[0]) / (L12**3) + G * m3 * (X[4] - X[0]) / (L13**3)
    XP[7] = G * m2 * (X[3] - X[1]) / (L12**3) + G * m3 * (X[5] - X[1]) / (L13**3)
    XP[8] = G * m1 * (X[0] - X[2]) / (L12**3) + G * m3 * (X[4] - X[2]) / (L23**3)
    XP[9] = G * m1 * (X[1] - X[3]) / (L12**3) + G * m3 * (X[5] - X[3]) / (L23**3)
    XP[10] = G * m1 * (X[0] - X[4]) / (L13**3) + G * m2 * (X[2] - X[4]) / (L23**3)
    XP[11] = G * m1 * (X[1] - X[5]) / (L13**3) + G * m2 * (X[3] - X[5]) / (L23**3)

    return XP
